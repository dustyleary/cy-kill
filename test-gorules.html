<!DOCTYPE HTML>
<html>
<head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="http://github.com/jquery/qunit/raw/master/qunit/qunit.css" type="text/css" media="screen" />
    <script type="text/javascript" src="http://github.com/jquery/qunit/raw/master/qunit/qunit.js"></script>
    <script type="text/javascript" src="gorules.js"></script>

<script>
$(document).ready(function(){

module("countLiberties");

test("a", function() {
    var b = new Board(2);
    equals(0, b.countLiberties(0,0));
});

test("b", function() {
    var b = new Board(2);
    b.makeMove(b.BLACK, 0,0);
    equals(2, b.countLiberties(0,0));
});

test("c", function() {
    var b = new Board(2);
    b.makeMove(b.BLACK, 0,0);
    b.makeMove(b.BLACK, 0,1);
    equals(2, b.countLiberties(0,0));
    equals(2, b.countLiberties(0,1));
});

test("d", function() {
    var b = new Board(2);
    b.makeMove(b.BLACK, 0,0);
    b.makeMove(b.BLACK, 0,1);
    b.makeMove(b.BLACK, 1,0);
    equals(1, b.countLiberties(0,0));
    equals(1, b.countLiberties(0,1));
    equals(1, b.countLiberties(1,0));
});

test("e", function() {
    var b = new Board(2);
    b.makeMove(b.BLACK, 0,0);
    b.makeMove(b.BLACK, 0,1);
    b.makeMove(b.BLACK, 1,0);
    b.makeMove(b.BLACK, 1,1);
    equals(0, b.countLiberties(0,0));
    equals(0, b.countLiberties(0,1));
    equals(0, b.countLiberties(1,0));
    equals(0, b.countLiberties(1,1));
});

test("speed", function() {
    //make a big spiral
    var b = new Board(51);
    for(var x=0; x<b.size/2; x+=2) {
        for(var y=x; y<b.size-x; y++) {
            b.makeMove(b.BLACK, x,y);
            b.makeMove(b.BLACK, y,b.size-x-1);
            b.makeMove(b.BLACK, b.size-x-1,y);
            b.makeMove(b.BLACK, y,x);
        }
        b.makeMove(b.EMPTY, x,x+1);
        b.makeMove(b.BLACK, x+1,x+2);
    }
    //time counting liberties
    var t1 = new Date().getTime();
    for(var i=0; i<50; i++) {
        b.countLiberties(0,0);
    }
    var t2 = new Date().getTime();
    console.log('speed took millis',t2-t1);
});

/*
module("isValidMove");

test("simple", function() {
    var board = new Board(2);
    ok(isValidMove(board, 'A1', '#'));
});

module("makeMove");

test("simple", function() {
    var board1 = emptyBoard(2);
    var board2 = makeMove(board1, 0, '#');
    equals(4, board2.length);
});

module("countLiberties");

test("a", function() {
    var board1 = emptyBoard(2);
    var board2 = makeMove(board1, 0, '#');
    equals(4, board2.length);
});

module("moveInfo");

test("isSuicide", function() {
    var board = ''
    +"##"
    +"#."
    ;
    ok(isSuicide(makeMove(board, 3, '#')));
});

test("isSuicide", function() {
    var board = ''
    +".##"
    +"O.O"
    +".##"
    ;
    ok(!isSuicide(makeMove(board, 4, '#')));
    ok(!isSuicide(makeMove(board, 4, 'O')));
});

*/
});
</script>
  
</head>
<body>
    <h1 id="qunit-header">gorules</h1>
    <h2 id="qunit-banner"></h2>
    <h2 id="qunit-userAgent"></h2>
    <ol id="qunit-tests"></ol>
    <div id="qunit-fixture">test markup, will be hidden</div>
</body>
</html>
